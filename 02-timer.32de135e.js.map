{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAIMC,EAAYC,SAASC,cAAc,oBACnCC,EAAcF,SAASC,cAAc,gBACrCE,EAAaH,SAASI,iBAAiB,UAEzCC,EAAU,KAEdH,EAAYI,UAAW,GAEvB,EAAAC,EAAAC,SAAUT,EAAW,CACnBU,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAA,SAAQC,GACFA,EAAc,IAAMH,KAAKI,OAC3BC,EAAApB,GAASqB,OAAOC,QAAQ,+BACDjB,EAAXI,UAAW,IAEvBJ,EAAYI,UAAW,EACvBW,EAAApB,GAASqB,OAAOE,QAAQ,4B,IAK9BlB,EAAYmB,iBAAiB,SAAS,WACpClB,EAAWmB,SAAQ,SAAAC,G,OAAQA,EAAKC,UAAUC,OAAO,M,IACjDvB,EAAYI,UAAW,EACvBP,EAAUO,UAAW,EAkBrBD,EAAUqB,aAhBc,WACtB,IACMC,EADc,IAAIf,KAAKb,EAAU6B,OACJhB,KAAKI,MACxC,GAAIW,EAAe,IACjBxB,EAAWmB,SAAQ,SAAAC,G,OAAQA,EAAKC,UAAUC,OAAO,M,IACjDI,cAAcxB,GACdN,EAAUO,UAAW,MAChB,CACL,IAA0CwB,EAAAC,EAAUJ,GAA5CK,EAAkCF,EAAlCE,KAAMC,EAA4BH,EAA5BG,MAAOC,EAAqBJ,EAArBI,QAASC,EAAYL,EAAZK,QAC9BhC,EAAW,GAAGiC,YAAcC,EAAeL,GAC3C7B,EAAW,GAAGiC,YAAcC,EAAeJ,GAC3C9B,EAAW,GAAGiC,YAAcC,EAAeH,GAC3C/B,EAAW,GAAGiC,YAAcC,EAAeF,E,IAIR,I,IAGzC,IAAMJ,EAAY,SAAAO,GAChB,IACMC,EAASC,IACTC,EAAOF,KACPG,EAAa,GAAPD,EAOZ,MAAO,CAAET,KALIW,KAAKC,MAAMN,EAAKI,GAKdT,MAJDU,KAAKC,MAAMN,EAAMI,EAAOD,GAIhBP,QAHNS,KAAKC,MAAMN,EAAMG,EAAQF,GAGVJ,QAFfQ,KAAKC,MAAMN,EAAMC,EARlB,K,EAaXF,EAAiB,SAAAT,G,MAAS,GAASiB,OAANjB,GAAQkB,SAAS,EAAG,I","sources":["src/js/02-timer.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nconst dateInput = document.querySelector('#datetime-picker');\nconst startButton = document.querySelector('[data-start]');\nconst valueSpans = document.querySelectorAll('.value');\n\nlet forTime = null;\n\nstartButton.disabled = true;\n\nflatpickr(dateInput, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] <= Date.now()) {\n      Notiflix.Notify.failure('Оберіть дату у майбутньому.');\n      startButton.disabled = true;\n    } else {\n      startButton.disabled = false;\n      Notiflix.Notify.success('Готово, натискайте START');\n    }\n  },\n});\n\nstartButton.addEventListener('click', () => {\n  valueSpans.forEach(item => item.classList.toggle('end'));\n  startButton.disabled = true;\n  dateInput.disabled = true;\n\n  const updateCountdown = () => {\n    const choosenDate = new Date(dateInput.value);\n    const timeToFinish = choosenDate - Date.now();\n    if (timeToFinish < 1000) {\n      valueSpans.forEach(item => item.classList.toggle('end'));\n      clearInterval(forTime);\n      dateInput.disabled = false;\n    } else {\n      const { days, hours, minutes, seconds } = convertMs(timeToFinish);\n      valueSpans[0].textContent = addLeadingZero(days);\n      valueSpans[1].textContent = addLeadingZero(hours);\n      valueSpans[2].textContent = addLeadingZero(minutes);\n      valueSpans[3].textContent = addLeadingZero(seconds);\n    }\n  };\n\n  forTime = setInterval(updateCountdown, 1000);\n});\n\nconst convertMs = ms => {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor((ms % hour) / minute);\n  const seconds = Math.floor((ms % minute) / second);\n\n  return { days, hours, minutes, seconds };\n};\n\nconst addLeadingZero = value => `${value}`.padStart(2, '0');\n"],"names":["$6JpON","parcelRequire","$84b9dae4df53835d$var$dateInput","document","querySelector","$84b9dae4df53835d$var$startButton","$84b9dae4df53835d$var$valueSpans","querySelectorAll","$84b9dae4df53835d$var$forTime","disabled","$dbdyf","default","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","now","$parcel$interopDefault","Notify","failure","success","addEventListener","forEach","item","classList","toggle","setInterval","timeToFinish","value","clearInterval","ref","$84b9dae4df53835d$var$convertMs","days","hours","minutes","seconds","textContent","$84b9dae4df53835d$var$addLeadingZero","ms","minute","second","hour","day","Math","floor","concat","padStart"],"version":3,"file":"02-timer.32de135e.js.map"}