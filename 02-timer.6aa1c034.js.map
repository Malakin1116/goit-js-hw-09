{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAIA,MAAMC,EAAYC,SAASC,cAAc,oBACnCC,EAAcF,SAASC,cAAc,gBACrCE,EAAaH,SAASI,iBAAiB,UAE7C,IAAIC,EAAU,KAEdH,EAAYI,UAAW,GAEvB,EAAAC,EAAAC,SAAUT,EAAW,CACnBU,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAQC,GACFA,EAAc,IAAMH,KAAKI,OAC3BC,EAAApB,GAASqB,OAAOC,QAAQ,+BACDjB,EAAXI,UAAW,IAEvBJ,EAAYI,UAAW,EACvBW,EAAApB,GAASqB,OAAOE,QAAQ,4B,IAK9BlB,EAAYmB,iBAAiB,SAAS,KACpClB,EAAWmB,SAAQC,GAAQA,EAAKC,UAAUC,OAAO,SACjDvB,EAAYI,UAAW,EACvBP,EAAUO,UAAW,EAkBrBD,EAAUqB,aAhBc,KACtB,MACMC,EADc,IAAIf,KAAKb,EAAU6B,OACJhB,KAAKI,MACxC,GAAqB,IAAjBW,EACFxB,EAAWmB,SAAQC,GAAQA,EAAKC,UAAUC,OAAO,SACjDI,cAAcxB,GACdN,EAAUO,UAAW,MAChB,CACL,MAAMwB,KAAEA,EAAIC,MAAEA,EAAKC,QAAEA,EAAOC,QAAEA,GAAYC,EAAUP,GACpDxB,EAAW,GAAGgC,YAAcC,EAAeN,GAC3C3B,EAAW,GAAGgC,YAAcC,EAAeL,GAC3C5B,EAAW,GAAGgC,YAAcC,EAAeJ,GAC3C7B,EAAW,GAAGgC,YAAcC,EAAeH,E,IAIR,IAAK,IAG9C,MAAMC,EAAYG,IAChB,MACMC,EAASC,IACTC,EAAOF,KACPG,EAAa,GAAPD,EAOZ,MAAO,C,KALME,KAAKC,MAAMN,EAAKI,G,MACfC,KAAKC,MAAMN,EAAMI,EAAOD,G,QACtBE,KAAKC,MAAMN,EAAMG,EAAQF,G,QACzBI,KAAKC,MAAMN,EAAMC,EARlB,KAUyB,EAGpCF,EAAiBR,GAAUA,EAAQ,GAAK,GAAGA,IAAU,GAAGA,IAAQgB,SAAS,EAAG","sources":["src/js/02-timer.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nconst dateInput = document.querySelector('#datetime-picker');\nconst startButton = document.querySelector('[data-start]');\nconst valueSpans = document.querySelectorAll('.value');\n\nlet forTime = null;\n\nstartButton.disabled = true;\n\nflatpickr(dateInput, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] <= Date.now()) {\n      Notiflix.Notify.failure('Оберіть дату у майбутньому.');\n      startButton.disabled = true;\n    } else {\n      startButton.disabled = false;\n      Notiflix.Notify.success('Готово, натискайте START');\n    }\n  },\n});\n\nstartButton.addEventListener('click', () => {\n  valueSpans.forEach(item => item.classList.toggle('end'));\n  startButton.disabled = true;\n  dateInput.disabled = true;\n\n  const updateCountdown = () => {\n    const choosenDate = new Date(dateInput.value);\n    const timeToFinish = choosenDate - Date.now();\n    if (timeToFinish === 0) {\n      valueSpans.forEach(item => item.classList.toggle('end'));\n      clearInterval(forTime);\n      dateInput.disabled = false;\n    } else {\n      const { days, hours, minutes, seconds } = convertMs(timeToFinish);\n      valueSpans[0].textContent = addLeadingZero(days);\n      valueSpans[1].textContent = addLeadingZero(hours);\n      valueSpans[2].textContent = addLeadingZero(minutes);\n      valueSpans[3].textContent = addLeadingZero(seconds);\n    }\n  };\n\n  forTime = setInterval(updateCountdown, 1000);\n});\n\nconst convertMs = ms => {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor((ms % hour) / minute);\n  const seconds = Math.floor((ms % minute) / second);\n\n  return { days, hours, minutes, seconds };\n};\n\nconst addLeadingZero = value => (value < 10 ? `${value}` : `${value}`.padStart(2, '0'));\n\n"],"names":["$7Y9D8","parcelRequire","$40d383fb392a7037$var$dateInput","document","querySelector","$40d383fb392a7037$var$startButton","$40d383fb392a7037$var$valueSpans","querySelectorAll","$40d383fb392a7037$var$forTime","disabled","$fbklV","default","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","now","$parcel$interopDefault","Notify","failure","success","addEventListener","forEach","item","classList","toggle","setInterval","timeToFinish","value","clearInterval","days","hours","minutes","seconds","$40d383fb392a7037$var$convertMs","textContent","$40d383fb392a7037$var$addLeadingZero","ms","minute","second","hour","day","Math","floor","padStart"],"version":3,"file":"02-timer.6aa1c034.js.map"}